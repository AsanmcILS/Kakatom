<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astana Guide - –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å</title>
    <!-- Leaflet CSS (–¥–ª—è –∫–∞—Ä—Ç—ã) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        body {
            background: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .search-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-box input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
        }

        .search-box button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .search-box button:hover {
            background: #5a67d8;
        }

        .filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: #f0f0f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
        }

        .filter-btn:hover {
            background: #ddd;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .map-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            height: 500px;
        }

        #map {
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .places-list {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            height: 500px;
            overflow-y: auto;
        }

        .places-list h2 {
            margin-bottom: 15px;
            color: #333;
            font-size: 18px;
        }

        .place-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: transform 0.2s;
            border-left: 4px solid #667eea;
        }

        .place-card:hover {
            transform: translateX(5px);
            background: #f0f0f0;
        }

        .place-card h3 {
            color: #333;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .place-card .category {
            color: #667eea;
            font-size: 12px;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .place-card .address {
            color: #666;
            font-size: 13px;
            margin-bottom: 5px;
        }

        .place-card .rating {
            color: #fbbf24;
            font-size: 14px;
        }

        .events-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .events-section h2 {
            margin-bottom: 15px;
            color: #333;
            font-size: 18px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .event-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
        }

        .event-card h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .event-card .date {
            font-size: 13px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .event-card .location {
            font-size: 13px;
            opacity: 0.8;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .error {
            color: #e53e3e;
            text-align: center;
            padding: 20px;
        }

        .place-popup {
            font-family: Arial, sans-serif;
        }
        
        .place-popup h4 {
            margin: 0 0 5px 0;
            color: #333;
        }
        
        .place-popup p {
            margin: 0;
            font-size: 12px;
            color: #666;
        }

        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
            
            .map-container {
                height: 350px;
            }
            
            .places-list {
                height: 350px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üó∫Ô∏è Astana Guide</h1>
        <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–∏–¥ –øERFTYGUH</p>
    </div>

    <div class="container">
        <div class="search-section">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π, —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤, —Å–æ–±—ã—Ç–∏–π...">
                <button onclick="searchPlaces()">–ù–∞–π—Ç–∏</button>
            </div>
            <div class="filters">
                <button class="filter-btn active" onclick="filterPlaces('all')">–í—Å–µ</button>
                <button class="filter-btn" onclick="filterPlaces('attraction')">üèõÔ∏è –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</button>
                <button class="filter-btn" onclick="filterPlaces('restaurant')">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</button>
                <button class="filter-btn" onclick="filterPlaces('cafe')">‚òï –ö–∞—Ñ–µ</button>
                <button class="filter-btn" onclick="filterPlaces('hotel')">üè® –û—Ç–µ–ª–∏</button>
                <button class="filter-btn" onclick="filterPlaces('museum')">üèõÔ∏è –ú—É–∑–µ–∏</button>
                <button class="filter-btn" onclick="filterPlaces('park')">üå≥ –ü–∞—Ä–∫–∏</button>
            </div>
        </div>

        <div class="content">
            <div class="map-container">
                <div id="map"></div>
            </div>
            <div class="places-list" id="placesList">
                <h2>üìç –ú–µ—Å—Ç–∞ —Ä—è–¥–æ–º</h2>
                <div id="placesContainer"></div>
            </div>
        </div>

        <div class="events-section">
            <h2>üìÖ –ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
            <div class="events-grid" id="eventsContainer"></div>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // –î–∞–Ω–Ω—ã–µ –æ –º–µ—Å—Ç–∞—Ö (–¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ê—Å—Ç–∞–Ω—ã)
        const places = [
            {
                id: 1,
                name: '–ë–∞–π—Ç–µ—Ä–µ–∫',
                category: 'attraction',
                address: '–ø—Ä. –ù—É—Ä–∂–æ–ª, 14',
                coordinates: [51.1282, 71.4305],
                rating: 4.8,
                description: '–ì–ª–∞–≤–Ω–∞—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ê—Å—Ç–∞–Ω—ã, —Å–∏–º–≤–æ–ª –≥–æ—Ä–æ–¥–∞'
            },
            {
                id: 2,
                name: '–•–∞–Ω –®–∞—Ç—ã—Ä',
                category: 'attraction',
                address: '—É–ª. –¢—É—Ä–∞–Ω, 37',
                coordinates: [51.1315, 71.4214],
                rating: 4.7,
                description: '–ö—Ä—É–ø–Ω–µ–π—à–∏–π —Ç–æ—Ä–≥–æ–≤–æ-—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≤ —Ñ–æ—Ä–º–µ —à–∞—Ç—Ä–∞'
            },
            {
                id: 3,
                name: '–†–µ—Å—Ç–æ—Ä–∞–Ω "–ê–ª–∞–Ω"',
                category: 'restaurant',
                address: '—É–ª. –î–æ—Å—Ç—ã–∫, 5',
                coordinates: [51.1258, 71.4256],
                rating: 4.5,
                description: '–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞–∑–∞—Ö—Å–∫–∞—è –∫—É—Ö–Ω—è, —É—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞'
            },
            {
                id: 4,
                name: '–ö–∞—Ñ–µ "Coffee Boom"',
                category: 'cafe',
                address: '–ø—Ä. –ê–±–∞—è, 10',
                coordinates: [51.1223, 71.4289],
                rating: 4.3,
                description: '–£—é—Ç–Ω–æ–µ –∫–∞—Ñ–µ —Å –¥–µ—Å–µ—Ä—Ç–∞–º–∏ –∏ –∞–≤—Ç–æ—Ä—Å–∫–∏–º –∫–æ—Ñ–µ'
            },
            {
                id: 5,
                name: '–û—Ç–µ–ª—å "Rixos"',
                category: 'hotel',
                address: '–ø—Ä. –¢—É—Ä–∞–Ω, 24',
                coordinates: [51.1342, 71.4225],
                rating: 4.9,
                description: '–ü—è—Ç–∏–∑–≤–µ–∑–¥–æ—á–Ω—ã–π –æ—Ç–µ–ª—å —Å –≤–∏–¥–æ–º –Ω–∞ –≥–æ—Ä–æ–¥'
            },
            {
                id: 6,
                name: '–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º—É–∑–µ–π',
                category: 'museum',
                address: '–ø—Ä. –¢–∞—É–µ–ª—Å–∏–∑–¥–∏–∫, 54',
                coordinates: [51.1378, 71.4187],
                rating: 4.6,
                description: '–ì–ª–∞–≤–Ω—ã–π –º—É–∑–µ–π —Å—Ç—Ä–∞–Ω—ã —Å –±–æ–≥–∞—Ç–æ–π —ç–∫—Å–ø–æ–∑–∏—Ü–∏–µ–π'
            },
            {
                id: 7,
                name: '–ü–∞—Ä–∫ –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö',
                category: 'park',
                address: '—É–ª. –ö–µ—Ä–µ–π-–ñ–∞–Ω–∏–±–µ–∫, 15',
                coordinates: [51.1265, 71.4321],
                rating: 4.4,
                description: '–ö—Ä–∞—Å–∏–≤—ã–π –ø–∞—Ä–∫ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫ –∏ –æ—Ç–¥—ã—Ö–∞'
            },
            {
                id: 8,
                name: '–î–≤–æ—Ä–µ—Ü –ú–∏—Ä–∞ –∏ –°–æ–≥–ª–∞—Å–∏—è',
                category: 'attraction',
                address: '–ø—Ä. –¢–∞—É–µ–ª—Å–∏–∑–¥–∏–∫, 57',
                coordinates: [51.1402, 71.4153],
                rating: 4.7,
                description: '–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω–æ–µ –∑–¥–∞–Ω–∏–µ, –∫–æ–Ω—Ü–µ—Ä—Ç–Ω—ã–π –∑–∞–ª'
            },
            {
                id: 9,
                name: '–†–µ—Å—Ç–æ—Ä–∞–Ω "Qazaq Gourmet"',
                category: 'restaurant',
                address: '—É–ª. –ö—É–Ω–∞–µ–≤–∞, 12',
                coordinates: [51.1298, 71.4278],
                rating: 4.6,
                description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–∞–∑–∞—Ö—Å–∫–∞—è –∫—É—Ö–Ω—è'
            },
            {
                id: 10,
                name: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫',
                category: 'park',
                address: '—É–ª. –ë–∞—Ä–∞–µ–≤–∞, 1',
                coordinates: [51.1355, 71.4255],
                rating: 4.5,
                description: '–ë–æ–ª—å—à–æ–π –ø–∞—Ä–∫ —Å –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω–∞–º–∏ –∏ –ø—Ä—É–¥–∞–º–∏'
            }
        ];

        // –î–∞–Ω–Ω—ã–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö
        const events = [
            {
                id: 1,
                title: '–§–µ—Å—Ç–∏–≤–∞–ª—å –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—É—Ö–Ω–∏',
                date: '20-22 —Ñ–µ–≤—Ä–∞–ª—è 2026',
                location: '–•–∞–Ω –®–∞—Ç—ã—Ä',
                description: '–î–µ–≥—É—Å—Ç–∞—Ü–∏—è –±–ª—é–¥ —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Ä–æ–¥–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞'
            },
            {
                id: 2,
                title: '–ö–æ–Ω—Ü–µ—Ä—Ç "–ù–æ—á—å –≤ –æ–ø–µ—Ä–µ"',
                date: '25 —Ñ–µ–≤—Ä–∞–ª—è 2026',
                location: '–¢–µ–∞—Ç—Ä –æ–ø–µ—Ä—ã –∏ –±–∞–ª–µ—Ç–∞',
                description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º—É–∑—ã–∫–∞ –≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∏–º—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞'
            },
            {
                id: 3,
                title: '–í—ã—Å—Ç–∞–≤–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤',
                date: '1-15 –º–∞—Ä—Ç–∞ 2026',
                location: '–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º—É–∑–µ–π',
                description: '–†–∞–±–æ—Ç—ã –º–æ–ª–æ–¥—ã—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞'
            },
            {
                id: 4,
                title: '–≠–∫—Å–∫—É—Ä—Å–∏—è –ø–æ –ê—Å—Ç–∞–Ω–µ',
                date: '–ö–∞–∂–¥—É—é —Å—É–±–±–æ—Ç—É',
                location: '–ü–ª–æ—â–∞–¥—å —É –ë–∞–π—Ç–µ—Ä–µ–∫–∞',
                description: '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–µ—à–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è —Å –≥–∏–¥–æ–º'
            },
            {
                id: 5,
                title: '–°–ø–µ–∫—Ç–∞–∫–ª—å "–ö–æ—á–µ–≤–Ω–∏–∫–∏"',
                date: '5 –º–∞—Ä—Ç–∞ 2026',
                location: '–¢–µ–∞—Ç—Ä –¥—Ä–∞–º—ã',
                description: '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –¥—Ä–∞–º–∞ –æ –∂–∏–∑–Ω–∏ –∫–æ—á–µ–≤–Ω–∏–∫–æ–≤'
            }
        ];

        let map;
        let markers = [];
        let currentFilter = 'all';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            initMap();
            displayPlaces();
            displayEvents();
        };

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
        function initMap() {
            // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç—É —Å —Ü–µ–Ω—Ç—Ä–æ–º –≤ –ê—Å—Ç–∞–Ω–µ
            map = L.map('map').setView([51.1282, 71.4305], 12);

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–æ–π –∫–∞—Ä—Ç—ã (OpenStreetMap)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);

            // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç—É
            updateMarkers();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
        function updateMarkers() {
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –º–∞—Ä–∫–µ—Ä—ã
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            // –§–∏–ª—å—Ç—Ä—É–µ–º –º–µ—Å—Ç–∞ –ø–æ —Ç–µ–∫—É—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const filteredPlaces = currentFilter === 'all' 
                ? places 
                : places.filter(place => place.category === currentFilter);

            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –º–∞—Ä–∫–µ—Ä—ã
            filteredPlaces.forEach(place => {
                // –°–æ–∑–¥–∞–µ–º –∏–∫–æ–Ω–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                const icon = L.divIcon({
                    className: 'custom-marker',
                    html: getMarkerEmoji(place.category),
                    iconSize: [30, 30],
                    popupAnchor: [0, -15]
                });

                // –°–æ–∑–¥–∞–µ–º –º–∞—Ä–∫–µ—Ä
                const marker = L.marker(place.coordinates, { icon }).addTo(map);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ
                marker.bindPopup(`
                    <div class="place-popup">
                        <h4>${place.name}</h4>
                        <p>${place.address}</p>
                        <p>‚≠ê ${place.rating}</p>
                        <p>${place.description}</p>
                    </div>
                `);

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º–∞—Ä–∫–µ—Ä
                markers.push(marker);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function getMarkerEmoji(category) {
            const emojis = {
                attraction: 'üèõÔ∏è',
                restaurant: 'üçΩÔ∏è',
                cafe: '‚òï',
                hotel: 'üè®',
                museum: 'üèõÔ∏è',
                park: 'üå≥'
            };
            return `<div style="font-size: 24px;">${emojis[category] || 'üìç'}</div>`;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–µ—Å—Ç
        function displayPlaces() {
            const container = document.getElementById('placesContainer');
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –º–µ—Å—Ç–∞
            const filteredPlaces = currentFilter === 'all' 
                ? places 
                : places.filter(place => place.category === currentFilter);

            if (filteredPlaces.length === 0) {
                container.innerHTML = '<div class="loading">–ú–µ—Å—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }

            // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—Ç–∞
            container.innerHTML = filteredPlaces.map(place => `
                <div class="place-card" onclick="focusOnPlace(${place.id})">
                    <div class="category">${getCategoryName(place.category)}</div>
                    <h3>${place.name}</h3>
                    <div class="address">${place.address}</div>
                    <div class="rating">‚≠ê ${place.rating}</div>
                    <p style="font-size: 12px; color: #666; margin-top: 5px;">${place.description}</p>
                </div>
            `).join('');
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
        function displayEvents() {
            const container = document.getElementById('eventsContainer');
            
            container.innerHTML = events.map(event => `
                <div class="event-card">
                    <h3>${event.title}</h3>
                    <div class="date">üìÖ ${event.date}</div>
                    <div class="location">üìç ${event.location}</div>
                    <p style="font-size: 12px; margin-top: 8px; opacity: 0.9;">${event.description}</p>
                </div>
            `).join('');
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function getCategoryName(category) {
            const names = {
                attraction: 'üèõÔ∏è –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                restaurant: 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω',
                cafe: '‚òï –ö–∞—Ñ–µ',
                hotel: 'üè® –û—Ç–µ–ª—å',
                museum: 'üèõÔ∏è –ú—É–∑–µ–π',
                park: 'üå≥ –ü–∞—Ä–∫'
            };
            return names[category] || category;
        }

        // –§–æ–∫—É—Å –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ
        function focusOnPlace(placeId) {
            const place = places.find(p => p.id === placeId);
            if (place) {
                // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–∞—Ä—Ç—É –∫ –º–µ—Å—Ç—É
                map.setView(place.coordinates, 16);
                
                // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–ø–∞–ø
                markers.forEach(marker => {
                    const markerPosition = marker.getLatLng();
                    if (markerPosition.lat === place.coordinates[0] && 
                        markerPosition.lng === place.coordinates[1]) {
                        marker.openPopup();
                    }
                });
            }
        }

        // –ü–æ–∏—Å–∫ –º–µ—Å—Ç
        function searchPlaces() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            
            if (!query) {
                // –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –ø—É—Å—Ç–æ–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –º–µ—Å—Ç–∞
                displayPlaces();
                updateMarkers();
                return;
            }

            // –§–∏–ª—å—Ç—Ä—É–µ–º –º–µ—Å—Ç–∞ –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É
            const searchResults = places.filter(place => 
                place.name.toLowerCase().includes(query) || 
                place.address.toLowerCase().includes(query) ||
                place.description.toLowerCase().includes(query)
            );

            if (searchResults.length > 0) {
                // –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –º–µ—Å—Ç–∞
                const container = document.getElementById('placesContainer');
                container.innerHTML = searchResults.map(place => `
                    <div class="place-card" onclick="focusOnPlace(${place.id})">
                        <div class="category">${getCategoryName(place.category)}</div>
                        <h3>${place.name}</h3>
                        <div class="address">${place.address}</div>
                        <div class="rating">‚≠ê ${place.rating}</div>
                        <p style="font-size: 12px; color: #666; margin-top: 5px;">${place.description}</p>
                    </div>
                `).join('');
            } else {
                document.getElementById('placesContainer').innerHTML = 
                    '<div class="loading">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
            }
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ—Å—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function filterPlaces(category) {
            currentFilter = category;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –º–µ—Å—Ç –∏ –º–∞—Ä–∫–µ—Ä—ã
            displayPlaces();
            updateMarkers();
        }
    </script>
</body>
</html>
